% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/transferability.R
\name{assess_transferability}
\alias{assess_transferability}
\title{Assess Cross-Site Transferability of Triage Effectiveness}
\usage{
assess_transferability(
  df,
  calc_method = "rte",
  n_iterations = 100,
  n_workers = parallel::detectCores() - 1,
  max_distribution_diff = 0.005,
  max_tries = 10,
  seed = NULL
)
}
\arguments{
\item{df}{Data frame containing patient data that has been initialized with \code{init()}}

\item{calc_method}{Character. Method to use for calculating TE: "wte" for waiting
time-based TE or "rte" for rank-based TE (default)}

\item{n_iterations}{Integer. Number of Monte Carlo iterations per site combination
to account for stochastic variation. Default is 100}

\item{n_workers}{Integer. Number of cores to use for parallel processing. Default
is (detectCores() - 1)}

\item{max_distribution_diff}{Numeric. Maximum allowed difference between target and
achieved priority distribution. Default is 0.005 (0.5\%)}

\item{max_tries}{Integer. Maximum attempts to achieve target distribution in each
iteration. Default is 10}

\item{seed}{Integer. Seed for reproducible results. Default is NULL (no seed)}
}
\value{
A list containing:
\itemize{
\item results: Tibble with transferability metrics for each site combination
\item metadata: List with analysis parameters and settings
\item distributions: Tibble with simulation data for each iteration
\item priority_distributions: List of original priority distributions per site
}
}
\description{
Performs cross-site validation analysis to examine how Triage Effectiveness (TE)
measurements transfer between different hospital settings. This analysis extracts
triage priority distribution patterns from each site and simulates how each site's
triage pattern would perform if applied to other sites' patient populations.
}
\details{
The analysis process:
\enumerate{
\item Extracts triage priority distributions for LOSET-positive and LOSET-negative
patients from each site
\item Calculates baseline TE values for each site using their original priority patterns
\item For each combination of original patient data and applied priority distribution:
\itemize{
\item Applies the priority distribution while preserving all other patient characteristics
\item Simulates theoretical wait times using \code{sim_te()}
\item Calculates TE using either WTE or RTE method
\item Repeats for n_iterations to capture stochastic variation
}
\item Summarizes results with means, confidence intervals, and variability measures
}

The difference between original and redistributed TE values quantifies how much
triage effectiveness measurements are affected by:
\itemize{
\item Accuracy of priority assignments across multiple triage levels
\item Differences in ED throughput and patient flow characteristics
\item Site-specific case mix and patient populations
}
}
\examples{
\dontrun{
# Initialize data
data <- init(sem_malmo_synth)

# Run transferability analysis
results <- assess_transferability(
  data,
  calc_method = "rte",
  n_iterations = 100,
  n_workers = 4
)

# View summary results
print(results$results)

# Create heatmap visualization
plot_transferability(results)
}

}
