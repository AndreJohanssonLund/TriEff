% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sim_te.R
\name{sim_te_alt}
\alias{sim_te_alt}
\title{Optimized Triage Efficacy Simulation}
\usage{
sim_te_alt(df, tte = TRUE, btte = FALSE, n_workers = 1)
}
\arguments{
\item{df}{A data frame containing patient data, including arrival times, resolve times, and priorities.}

\item{tte}{Logical. If TRUE, calculates Theoretical Triage Efficacy (TTE). Default is TRUE.}

\item{btte}{Logical. If TRUE, calculates Binary Theoretical Triage Efficacy (BTTE). Default is FALSE.}

\item{n_workers}{Integer. Number of cores to use for parallel processing. Default is 1.}
}
\value{
A data frame with the original patient data and additional columns for calculated TE metrics.
}
\description{
This function performs an optimized simulation to calculate various Triage Efficacy (TE) metrics
in a deterministic way. It processes the input data frame, creates segments and batches,
runs parallel simulations, and applies corrections if specified.
}
\details{
This function is the optimized version of the verbose simulation. It uses segmentation and batching
techniques to enable efficient parallel processing. The simulation calculates wait times in a
deterministic world where patients are strictly processed according to their priority and wait time
within the same priority level - this is the basis for the TTE value.

Key steps in the process:
\enumerate{
\item Data preparation and extraction of relevant fields.
\item Creation of segments (periods where queue goes from 0 to 0) for independent processing.
\item Batching of segments for balanced parallel processing.
\item Parallel execution of simulations on batches.
\item Aggregation of results
}
}
